---
import IconBrandGithub from "~icons/tabler/brand-github";
import IconBrandX from "~icons/tabler/brand-x";
import teams from "~/data/teams.json";

const iconMap: Record<string, typeof IconBrandGithub> = {
  github: IconBrandGithub,
  x: IconBrandX,
};

const labelMap: Record<string, string> = {
  github: "GitHub",
  x: "X",
};
---

<section class="border-y flex border-border-dark relative" id="pengurus">
  <div class="inner border-x border-border-dark relative flex flex-col gap-6">
    <div class="absolute inset-0">
      <svg width="100%" height="100%" aria-hidden="true"
        ><defs
          ><pattern
            viewBox="0 0 10 10"
            width="10"
            height="10"
            patternUnits="userSpaceOnUse"
            id="_r12R_6_"
            ><circle
              cx="5"
              cy="5"
              r="1"
              fill="currentColor"
              class="fill-zinc-500/50"></circle></pattern
          ></defs
        ><rect width="100%" height="100%" fill="url(#_r12R_6_)"></rect></svg
      >
    </div>
    <div class="md:pl-12 pl-6 md:pt-12 pt-6 relative">
      <div class="flex items-center justify-between">
        <h2
          class="text-xl whitespace-nowrap font-medium border bg-background border-border-dark px-4 py-2"
        >
          Para Pengurus
        </h2>
        <div class="h-px w-full bg-zinc-800"></div>
      </div>
    </div>
    <div class="md:mx-12 mx-6 flex md:flex-row flex-col md:gap-4">
      <div
        class="border-x md:w-80 shrink-0 border-t p-6 border-border-dark flex flex-col relative bg-background"
      >
        Tim di balik layar yang mengalokasikan waktu dan keahlian secara
        sukarela. Atas setiap jam yang dicurahkan untuk menyusun agenda,
        menjawab pertanyaan, dan menjaga kualitas interaksi, kami ucapkan terima
        kasih.
      </div>
      <div
        class="border-x w-full border-t border-border-dark flex flex-col relative bg-background"
      >
        <div class="flex flex-col divide-y divide-border-dark">
          {
            teams.map((member) => (
              <div class="flex items-center gap-2 md:last:border-b border-border-dark">
                <img
                  class="size-14 border-r border-border-dark"
                  src={member.avatarSrc}
                  alt={`${member.name}'s avatar`}
                />
                <div class="flex flex-col">
                  <span class="text-lg font-semibold text-foreground-heading">
                    {member.name}
                  </span>
                  <span class="text-sm text-foreground-body">
                    {member.title}
                  </span>
                </div>
                <div class="flex gap-2 ml-auto pr-4">
                  {Object.entries(member.links).map(([type, url]) => {
                    const Icon = iconMap[type];
                    const label = `${member.name}'s ${labelMap[type]}`;
                    return (
                      <a
                        href={url}
                        target="_blank"
                        rel="noopener noreferrer"
                        aria-label={label}
                      >
                        <Icon />
                      </a>
                    );
                  })}
                </div>
              </div>
            ))
          }
        </div>
      </div>
    </div>
  </div>
</section>
